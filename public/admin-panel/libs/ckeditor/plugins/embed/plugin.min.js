(function(){"use strict";CKEDITOR.plugins.add("embed",{icons:"embed",hidpi:true,requires:"embedbase",init:function(editor){var widgetDefinition=CKEDITOR.plugins.embedBase.createWidgetBaseDefinition(editor);if(!editor.config.embed_provider){CKEDITOR.error("embed-no-provider-url")}CKEDITOR.tools.extend(widgetDefinition,{dialog:"embedBase",button:editor.lang.embedbase.button,allowedContent:"div[!data-oembed-url]",requiredContent:"div[data-oembed-url]",providerUrl:new CKEDITOR.template(editor.config.embed_provider||""),styleToAllowedContentRules:function(style){var classes=style.getClassesArray();return{div:{propertiesOnly:true,classes:classes,attributes:"!data-oembed-url"}}},upcast:function(el,data){if(el.name=="div"&&el.attributes["data-oembed-url"]){data.url=el.attributes["data-oembed-url"];return true}},downcast:function(el){el.attributes["data-oembed-url"]=this.data.url}},true);editor.widgets.add("embed",widgetDefinition);editor.filter.addElementCallback(function(el){if("data-oembed-url"in el.attributes){return CKEDITOR.FILTER_SKIP_TREE}})}})})();